<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Viewport Preview</title>
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      }
    </script>
    <script src="https://unpkg.com/lucide@0.344.0/dist/umd/lucide.min.js"></script>
    <style>
      .selected-indicator {
        transform: scale(0);
        transition: transform 150ms cubic-bezier(0.34, 1.56, 0.64, 1);
      }
      .selected-indicator.visible {
        transform: scale(1);
      }
      #menu-toggle {
        anchor-name: --menu-toggle;
      }
      #menu-dropdown {
        position-anchor: --menu-toggle;
        top: calc(anchor(bottom) + 0.5rem);
        right: anchor(right);
        position-area: bottom;
      }
      .theme-btn {
        opacity: 0.5;
      }
      .theme-btn:hover {
        opacity: 0.75;
      }
      #theme-switcher[data-active="system"] [data-theme="system"],
      #theme-switcher[data-active="light"] [data-theme="light"],
      #theme-switcher[data-active="dark"] [data-theme="dark"] {
        opacity: 1;
      }
    </style>
    <script>
      (function () {
        const mode = localStorage.getItem("viewport-preview-color-mode") || "system"
        if (mode === "dark" || (mode === "system" && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
          document.documentElement.classList.add("dark")
        }
      })()
    </script>
  </head>
  <body
    class="bg-white sm:bg-gray-100 dark:bg-gray-800 sm:dark:bg-gray-900 min-h-screen"
  >
    <div class="sm:container sm:mx-auto sm:px-4 sm:py-8 sm:max-w-2xl mt-2">
      <div
        class="sm:rounded-2xl sm:border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 overflow-hidden"
      >
        <div
          class="flex items-center justify-between bg-white dark:bg-gray-800 sm:border-b border-gray-300 dark:border-gray-700 px-6 pt-6 sm:pt-4 pb-0 sm:pb-4"
        >
          <div class="flex items-center gap-2">
            <i
              data-lucide="monitor-smartphone"
              class="w-4 h-4 text-gray-500 dark:text-gray-400"
            ></i>
            <span
              class="text-xl sm:text-base font-medium text-gray-600 dark:text-gray-300"
              >Viewport Preview</span
            >
          </div>
          <div>
            <button
              type="button"
              popovertarget="menu-dropdown"
              class="p-2 -mr-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors"
              id="menu-toggle"
            >
              <i data-lucide="more-horizontal" class="w-5 h-5"></i>
            </button>
            <div
              id="menu-dropdown"
              popover
              anchor="menu-toggle"
              class="w-64 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg overflow-hidden m-0"
            >
              <div class="p-3 border-b border-gray-200 dark:border-gray-600">
                <div
                  class="text-xs font-medium text-gray-500 dark:text-gray-400 mb-2"
                >
                  Color mode
                </div>
                <div id="theme-switcher" class="flex flex-col gap-1">
                  <button
                    type="button"
                    data-theme="system"
                    class="theme-btn flex items-center gap-2 px-2 py-1 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded transition-opacity"
                  >
                    <i data-lucide="monitor" class="w-4 h-4"></i>
                    System
                  </button>
                  <button
                    type="button"
                    data-theme="light"
                    class="theme-btn flex items-center gap-2 px-2 py-1 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded transition-opacity"
                  >
                    <i data-lucide="sun" class="w-4 h-4"></i>
                    Light
                  </button>
                  <button
                    type="button"
                    data-theme="dark"
                    class="theme-btn flex items-center gap-2 px-2 py-1 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded transition-opacity"
                  >
                    <i data-lucide="moon" class="w-4 h-4"></i>
                    Dark
                  </button>
                </div>
              </div>
              <div class="p-3">
                <div class="flex items-center justify-between mb-2">
                  <span
                    class="text-xs font-medium text-gray-500 dark:text-gray-400"
                  >
                    Recent URLs
                  </span>
                  <button
                    type="button"
                    id="clear-history"
                    class="text-xs text-blue-500 dark:text-blue-400 hover:text-blue-600 dark:hover:text-blue-300 transition-colors"
                  >
                    Clear history
                  </button>
                </div>
                <ul id="url-history" class="space-y-1">
                  <li class="text-xs text-gray-400 dark:text-gray-500">
                    URLs you open will appear here
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <div class="bg-white dark:bg-gray-800 p-6 sm:p-8 space-y-8">
          <div>
            <label
              for="url"
              class="flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-300 mb-2"
            >
              <i data-lucide="link" class="w-4 h-4"></i>
              URL
            </label>
            <div class="flex gap-2 items-stretch">
              <input
                type="url"
                id="url"
                placeholder="https://example.com"
                autofocus
                autocomplete="off"
                class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-md focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:border-blue-500 outline-none"
              />
              <button
                id="popupButton"
                disabled
                class="flex items-center gap-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-800 outline-none transition-colors duration-150 whitespace-nowrap disabled:bg-gray-200 dark:disabled:bg-gray-700 disabled:text-gray-400 dark:disabled:text-gray-500 disabled:cursor-not-allowed disabled:hover:bg-gray-200 dark:disabled:hover:bg-gray-700"
              >
                <i data-lucide="external-link" class="w-4 h-4"></i>
                Open
              </button>
            </div>
          </div>

          <div>
            <label
              class="flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-300 mb-2"
            >
              <i data-lucide="smartphone" class="w-4 h-4"></i>
              Phone
            </label>
            <div
              class="grid grid-cols-2 sm:grid-cols-3 gap-4"
              id="phone-presets"
            ></div>
          </div>

          <div>
            <label
              class="flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-300 mb-2"
            >
              <i data-lucide="tablet" class="w-4 h-4"></i>
              Tablet
            </label>
            <div
              class="grid grid-cols-2 sm:grid-cols-3 gap-4"
              id="tablet-presets"
            ></div>
          </div>

          <div>
            <label
              class="flex items-center gap-2 text-sm font-medium text-gray-500 dark:text-gray-300 mb-2"
            >
              <i data-lucide="app-window" class="w-4 h-4"></i>
              Custom Size
            </label>
            <div class="flex items-end gap-2">
              <div class="flex-1">
                <label
                  for="customWidth"
                  class="block text-xs text-gray-400 dark:text-gray-500 mb-1"
                  >Width</label
                >
                <input
                  type="text"
                  inputmode="numeric"
                  id="customWidth"
                  placeholder="e.g. 375"
                  class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-md focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:border-blue-500 outline-none"
                />
              </div>
              <span class="text-gray-500 dark:text-gray-400 py-2">Ã—</span>
              <div class="flex-1">
                <label
                  for="customHeight"
                  class="block text-xs text-gray-400 dark:text-gray-500 mb-1"
                  >Height</label
                >
                <input
                  type="text"
                  inputmode="numeric"
                  id="customHeight"
                  placeholder="e.g. 812"
                  class="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 rounded-md focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:border-blue-500 outline-none"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer
        class="flex items-center justify-between px-6 sm:px-2 py-4 text-xs text-gray-400 dark:text-gray-500"
      >
        <a
          href="https://github.com/joshwilkerson/viewport-preview"
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center gap-1 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"
        >
          <i data-lucide="github" class="w-4 h-4"></i>
          View on GitHub
        </a>
      </footer>
    </div>

    <script src="devices.js"></script>
    <script src="app.js"></script>
  </body>
</html>
